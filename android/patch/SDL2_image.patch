--- Android.mk
+++ Android.mk
@@ -16,11 +16,11 @@
 
 # Enable this if you want to support loading WebP images
 # The library path should be a relative path to this directory.
-SUPPORT_WEBP := true
+SUPPORT_WEBP := false
 WEBP_LIBRARY_PATH := external/libwebp-0.3.0
 
 
-LOCAL_C_INCLUDES := $(LOCAL_PATH)
+LOCAL_C_INCLUDES := $(LOCAL_PATH) ../SDL2-2.0.3/include
 LOCAL_CFLAGS := -DLOAD_BMP -DLOAD_GIF -DLOAD_LBM -DLOAD_PCX -DLOAD_PNM \
                 -DLOAD_TGA -DLOAD_XCF -DLOAD_XPM -DLOAD_XV
 LOCAL_CFLAGS += -O3 -fstrict-aliasing -fprefetch-loop-arrays
@@ -77,13 +77,19 @@
         $(JPG_LIBRARY_PATH)/jfdctfst.c \
         $(JPG_LIBRARY_PATH)/jfdctint.c \
         $(JPG_LIBRARY_PATH)/jidctflt.c \
-        $(JPG_LIBRARY_PATH)/jidctfst.S \
         $(JPG_LIBRARY_PATH)/jidctint.c \
         $(JPG_LIBRARY_PATH)/jquant1.c \
         $(JPG_LIBRARY_PATH)/jquant2.c \
         $(JPG_LIBRARY_PATH)/jutils.c \
         $(JPG_LIBRARY_PATH)/jmemmgr.c \
         $(JPG_LIBRARY_PATH)/jmem-android.c
+
+    # assembler support is available for arm
+    ifeq ($(TARGET_ARCH),arm)
+        LOCAL_SRC_FILES += $(JPG_LIBRARY_PATH)/jidctfst.S
+    else
+        LOCAL_SRC_FILES += $(JPG_LIBRARY_PATH)/jidctfst.c
+    endif
 endif
 
 ifeq ($(SUPPORT_PNG),true)
@@ -119,3 +125,8 @@
 LOCAL_EXPORT_C_INCLUDES += $(LOCAL_C_INCLUDES)
 
 include $(BUILD_SHARED_LIBRARY)
+
+LOCAL_MODULE := SDL2_image_static
+LOCAL_MODULE_FILENAME := libSDL2_image
+LOCAL_LDLIBS := 
+include $(BUILD_STATIC_LIBRARY)
